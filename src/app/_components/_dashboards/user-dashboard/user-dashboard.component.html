<!--
File: c:\Users\tonyw\Desktop\WoRTool NG\ng-paapp2\src\app\board-user\board-user.component.html
Project: c:\Users\tonyw\Desktop\WoRTool NG\ng-paapp2
Created Date: Sunday August 6th 2023
Author: Tony Wiedman
-----
Last Modified: Thu February 22nd 2024 3:01:11 
Modified By: Tony Wiedman
-----
Copyright (c) 2023 Tone Web Design, Molex
-->
<div *ngIf="loading" class="text-center">
	<div class="lds-ellipsis">
		<div></div>
		<div></div>
		<div></div>
		<div></div>
	</div>
</div>



<div *ngIf="!loading"
	class="container mx-auto md:px-[2em] mt-[1em] lg:mt-[2em] mb-[5em]">
	
	<div *ngIf="this.sharedDataService.isLoggedIn" class="animate-top flex items-center md:mb-8 mb-2" style="filter: drop-shadow(2px 0px 10px rgba(125, 126, 116, 0.507));">
		<div class="flex-shrink-0 text-[#88887b] md:flex justify-center items-center w-6 md:w-16 h-auto pl-1 hidden">
			<i class="fas fa-user-gear fa-2x"></i>
		</div>
		<div class="ml-1 flex items-center">
			<div>
				<h3 class="text-[#88887b] font-[500] text-base md:text-xl tracking-tight drop-shadow-lg">User Preferences</h3>
				<span class="text-[#88887b] font-[300] text-sm md:text-base tracking-tight drop-shadow-lg inline-block">Profile Management and Account Integration</span>
			</div>	
		</div>
	</div>

	<div *ngIf="this.sharedDataService.isLoggedIn">

		<div class="grid lg:grid-cols-[auto_1fr] lg:gap-2 grid-cols-1">

				<div class="bg-[#1e293b]/80 rounded-sm ring-2 ring-[#28364d]/70 shadow-xl w-full py-1 h-fit">
					<mat-list>
						<mat-action-list>
							<button routerLinkActive="active_btn"
								routerLink="/user/1"
								mat-list-item
								class="!px-8 !text-neutral-300 !h-[55px] flex items-center">
								<i class="fa-solid fa-circle-nodes !text-white"></i>
								Profile & Accounts
							</button>
							<mat-divider></mat-divider>
							<button routerLinkActive="active_btn"
								routerLink="/user/2"
								mat-list-item
								class="!px-8 !text-neutral-300 !h-[55px] flex items-center">
								<i class="fa-solid fa-star !text-white"></i>
								Manage Favorites
							</button>
							<mat-divider></mat-divider>
							<button routerLinkActive="active_btn"
								routerLink="/user/3"
								mat-list-item
								class="!px-8 !text-neutral-300 !h-[55px] flex items-center">
								<i class="fa-solid fa-key !text-white"></i>
								Change Password
							</button>
							
						</mat-action-list>
					</mat-list>
				</div>
		





				<div class="lg:ml-5 w-full mt-[1em] lg:mt-[unset]">
				<div *ngIf="showPage1"
					class="w-full bg-[#1e293b]/80 rounded-sm ring-2 ring-[#28364d]/70 shadow-xl p-1 md:p-6 scale-center">
					
					<app-linked-accounts></app-linked-accounts>
					



				</div>
				<div *ngIf="showPage2"
					class="w-full bg-[#1e293b]/80 rounded-sm ring-2 ring-[#28364d]/70 shadow-xl p-1 md:p-6 scale-center">
					

					<div *ngIf="currentFavorites"
						class="m-4 table-container">
						<mat-table [dataSource]="dataSource"
							matSort>
							<ng-container matColumnDef="map">
								<mat-header-cell *matHeaderCellDef>Map Name</mat-header-cell>
								<mat-cell *matCellDef="let fav"
									class="font-[400] text-neutral-100">





									<button [routerLink]="fav.route"
										class="!my-2"
										mat-stroked-button
										color="primary">
										{{fav.mapData.map}}
									</button>




								</mat-cell>
							</ng-container>





							<ng-container matColumnDef="route">
								<mat-header-cell *matHeaderCellDef></mat-header-cell>
								<mat-cell *matCellDef="let fav"
									class="actions-cell action-column">





									<button (click)="confirmDelete(fav.mapId, fav.mapData.map)"
										mat-button
										class="!text-[#9b3f3f] !font-[900] !mx-1">
										<i class="fa-solid fa-trash sm:pr-2"></i>
										<span class="hidden sm:inline">Delete</span>
									</button>
								</mat-cell>
							</ng-container>





							<mat-header-row *matHeaderRowDef="['map', 'route']"></mat-header-row>
							<mat-row *matRowDef="let row; columns: ['map', 'route'];"></mat-row>
						</mat-table>
						<p *ngIf="!hasFavorites"
							class="m-4 text-neutral-100">
							No favorites yet...
						</p>
						<mat-paginator [pageSizeOptions]="[5, 10, 20]"
							[pageSize]="pageSize"
							[showFirstLastButtons]="true"
							(page)="onPageSizeChange($event)"></mat-paginator>
					</div>


				</div>
				<!--  -->
				<div *ngIf="showPage3"
					class="w-full bg-[#1e293b]/80 rounded-sm ring-2 ring-[#28364d]/70 shadow-xl p-1 md:p-6 scale-center">
					<h2 class="text-2xl text-[#94a3b8] ml-2 lg:ml-0">Manage Favorites</h2>

					<app-change-password></app-change-password>



					
				</div>
			</div>
		</div>
	</div>





	<div *ngIf="!this.sharedDataService.isLoggedIn"
		class="p-5 bg-[#1c2537] rounded-md"
		style="border-left: 5px solid #a13c3c;">
		<div class="grid grid-cols-1 sm:grid-cols-[120px_minmax(900px,_1fr)_100px] grid-rows-2 sm:grid-rows-none">
			<div class="row-start-2 sm:row-start-auto">
				<button class="!my-4 bg-gradient-to-tr from-[#4b4a48]/80 to-[#a3a197]/80 opacity-[65%] !transition !duration-300 ease-in hover:opacity-[80%]"
					mat-button
					routerLink="/home">
					<i class="fa-solid fa-house mr-1.5"></i>
					Home
				</button>
			</div>





			<div class="row-start-1 sm:row-start-auto">
				<h3 class="text-xl my-2">
					Please login to continue
				</h3>
				<p>
					You must be logged in to access this content.
				</p>
			</div>
		</div>




	</div>
</div>
