<div *ngIf="regimentData"
	class="max-w-full">
	<h2 class="mt-[1em]">
		Event Tool Configuration
	</h2>
	<mat-divider></mat-divider>
	<div class="p-2 m-2 text-neutral-200 grid gap-4 sm:grid-cols-4 grid-cols-1">
		<div class="col-start-1 col-span-1">
			<h3 class="text-slate-400">Event Channel</h3>
			<span [innerHTML]="regimentData.webhook_channel"
				class="px-3 p-1 m-1 block bg-slate-700 text-neutral-100 rounded-sm shadow-sm"></span>
		</div>

		<div class="sm:col-start-2 col-span-1">
			<!-- <h3 class="text-slate-400">Webhook URL</h3>

			<span [innerHTML]="regimentData.webhook"
				class="px-3 p-1 m-1 block bg-slate-700 text-neutral-100 rounded-sm truncate shadow-sm"></span> -->
		</div>

		<div class="sm:col-start-3 sm:col-span-2 sm:place-self-end">
			<select #channelSelect
				style=" padding-top: 11px;
    padding-bottom: 11px;
    font-size: 15px;
    border: 1px solid #7c7d72 !important;"
				class="field-input2 inline-block !w-fit"
				id="channel-select">
				<option value="0">Select a Channel</option>
				<option *ngFor="let channel of this.regimentChannels"
					[value]="channel.id">
					{{ channel.name }}
				</option>
			</select>

			<button (click)="updateTargetChannel(channelSelect.value)"
				mat-button
				class="ml-2 !w-[100px] !inline-block !py-[1.02em] !mb-1"
				color="primary">
				Update
			</button>
		</div>
	</div>
	<mat-divider></mat-divider>

	<div class="grid sm:grid-cols-2 grid-cols-1 !mt-[0.5em] !mx-2">
		<div>
			<h2 class="mt-[1em]">
				Regiment Information
			</h2>
		</div>
		<div class="place-self-end !mt-[0.5em] !mr-2">
			<button (click)="syncDiscord()"
				class="!ml-auto"
				type="button"
				mat-stroked-button
				color="primary">
				Resync Discord
			</button>
		</div>
	</div>

	<div class="grid sm:grid-cols-[47%_minmax(auto,_1fr)] grid-cols-1 gap-4">
		<div>
			<form (ngSubmit)="updateRegiment()">
				<div class="form-group p-2 m-2">
					<div class="field-box">
						<input [(ngModel)]="regiment"
							name="regiment"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							type="text"
							placeholder="Display Name...">
						<i class="fa-solid fa-tag field-icon"></i>
					</div>

					<div class="field-box">
						<input [(ngModel)]="guild_id"
							name="guild_id"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							type="text"
							placeholder="Discord ID...">
						<i class="fa-brands fa-discord field-icon"></i>
					</div>

					<div class="field-box">
						<input [(ngModel)]="guild_avatar"
							name="guild_avatar"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							type="text"
							placeholder="Avatar Url...">
						<i class="fa-solid fa-image field-icon"></i>
					</div>

					<div class="field-box">
						<input [(ngModel)]="invite_link"
							name="invite_link"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							type="text"
							placeholder="Invite Link...">
						<i class="fa-solid fa-link field-icon"></i>
					</div>

					<div class="field-box">
						<input [(ngModel)]="website"
							name="website"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							type="text"
							placeholder="Website...">
						<i class="fa-solid fa-globe field-icon"></i>
					</div>

					<div class="field-box">
						<textarea [(ngModel)]="description"
							name="description"
							style="
                padding-top: 11px;
                padding-bottom: 11px;
                font-size: 15px;
                border: 1px solid #7c7d72 !important;
              "
							class="field-input !font-[300] my-[0.5em]"
							placeholder="Description...">
						</textarea>
						<i class="fa-solid fa-book field-icon"></i>
					</div>
				</div>

				<button mat-raised-button
					type="submit"
					class="w-full !mt-[0.5em] !py-2 !sm:py-[5px] sm:text-lg text-xl !bg-gradient-to-tr from-[#4b4a48]/80 to-[#a3a197]/80 opacity-[65%] !transition !duration-300 ease-in hover:opacity-[80%]">
					Update Regiment
				</button>
			</form>
		</div>

		<div class="bg-slate-900 p-[2em] m-4 rounded-md text-neutral-300">
			<div class="grid sm:grid-cols-2 grid-cols-1 gap-4 h-full">
				<div class="place-self-start w-full">
					<h3 class="text-slate-400 mb-1 text-xl text-center">
						{{ regimentData.regiment }}
					</h3>

					<img [src]="regimentData.guild_avatar"
						class="mx-auto w-[200px] h-[200px] shadow-md mb-[1em]">

					<p class="my-1 text-sm font-[200]">
						<i class="fa-solid fa-link w-[25px] ml-[1em] mr-[0.5em]"></i>
						{{ regimentData.invite_link }}
					</p>

					<p class="my-1 text-sm font-[200]">
						<i class="fa-solid fa-globe w-[25px] ml-[1em] mr-[0.5em]"></i>
						{{ regimentData.website }}
					</p>

					<p class="mt-[1em] my-1 text-sm font-[200]">
						<i class="fa-solid fa-align-left w-[25px] ml-[1em] mr-[0.5em]"></i>
						{{ regimentData.description }}
					</p>
				</div>
				<div class="place-self-end w-full">
					<h3 class="text-slate-400">Manage Members</h3>
					<div *ngFor="let user of regimentUsers"
						class="relative">
						<img *ngIf="user.avatar_url"
							[src]="user.avatar_url"
							class="h-full w-auto mr-1 absolute left-[8px] shadow-md hover:opacity-80 cursor-pointer">

						<i *ngIf="!user.avatar_url"
							class="fa-solid fa-user mt-[7px] ml-2 mr-1 absolute left-[8px] hover:opacity-80 cursor-pointer"></i>

						<div class="bg-slate-600 shadow-sm rounded-sm p-1 m-2 !text-[0.9rem] font-[300] pl-[2.5em] w-full">
							{{ user.username }}
							<span class="float-right">
								<i class="fa-solid fa-xmark text-red-500 mr-1.5 hover:opacity-80 cursor-pointer"></i>
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<mat-divider></mat-divider>
</div>
